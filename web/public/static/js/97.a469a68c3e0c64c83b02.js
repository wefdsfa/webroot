webpackJsonp([97],{FrlI:function(t,e){},kxqu:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("C331"),i={data:function(){return{hadCheck:!1,checkStatus:"?checkStatus=false",showReasonModal:!1,note:"",timestamp:"&timestamp=",columns:[{id:"studentNo",title:"考生号",className:"text-left",width:180,hidden:!1,search:{type:"input"}},{id:"name",title:"姓名",className:"text-left",width:120,hidden:!1},{id:"adviceNoteNo",title:"通知书单号",className:"text-left",width:180,hidden:!1,search:{type:"input"}},{id:"submitTime",title:"提交时间",className:"text-left",width:180,hidden:!1},{id:"operateName",title:"操作人",className:"text-left",width:180,hidden:!0},{id:"status",title:"状态",className:"text-left",width:180,hidden:!0,search:{type:"select",data:{options:[{text:"通过",id:"OK"},{text:"驳回",id:"NO"}],optionsLabel:"text",optionsValue:"id",placeholder:""}},formatter:function(t){return"NO"==t.status?"驳回":"通过"}},{id:"note",title:"说明",className:"text-left",width:180,hidden:!0},{id:"submitTime",title:"审核时间",className:"text-left",width:180,hidden:!0}],url:"/table-data/archives/query/checkList"}},watch:{hadCheck:function(t){t?(this.columns.forEach(function(t,e){e>=4&&(t.hidden=!1)}),this.checkStatus="?checkStatus=true"):(this.columns.forEach(function(t,e){e>=4&&(t.hidden=!0)}),this.checkStatus="?checkStatus=false")}},methods:{afterChecked:function(t){this.checkRows=t},setHadCheck:function(t){this.hadCheck=t},_agree:function(t){this.checkRows.length?t?this._submit("OK"):this.showReasonModal=!0:this.$toast("请先选择学生")},_submit:function(t){var e=this,a={status:t,updateId:this.checkRows.map(function(t){return t.id+",",t.enrollId+",",t.id}),updateEnrollId:this.checkRows.map(function(t){return t.enrollId}),note:this.note};Object(s.d)("api/archives/query/updateCheckList",a,"put").then(function(t){t.state&&(e.timestamp="&timestamp="+(new Date).getTime(),e.$toast("操作成功!"))}),this.showReasonModal=!1}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"info-set-container"},[a("div",{staticClass:"examinationRank-page"},[a("div",{staticClass:"tab-div"},[a("div",{staticClass:"tab",class:t.hadCheck?"":"active",attrs:{title:"未审核"},on:{click:function(e){return t.setHadCheck(!1)}}},[t._v("未审核")]),t._v(" "),a("div",{staticClass:"tab",class:t.hadCheck?"active":"",attrs:{title:"已审核"},on:{click:function(e){return t.setHadCheck(!0)}}},[t._v("已审核")])]),t._v(" "),a("div",{staticClass:"content text-center"},[a("v-table",{ref:"studentTable",attrs:{title:"审核列表",url:t.url+t.checkStatus+t.timestamp,pagesize:"15",idField:"id",columns:t.columns,order:!0,multiple:-1!==t.checkStatus.indexOf("false"),search:!1,searchParams:t.definedSearch},on:{afterChecked:t.afterChecked}},[a("div",{staticClass:"btn-group pull-right",attrs:{slot:"btn-group",role:"group"},slot:"btn-group"},[a("button",{staticClass:"btn btn-bgColor-style clearBtnBorder",on:{click:function(e){return t._agree(!0)}}},[t._v("\n            通过\n          ")]),t._v(" "),a("button",{staticClass:"btn btn-bgColor-style clearBtnBorder",on:{click:function(e){return t._agree(!1)}}},[t._v("\n            驳回\n          ")])])])],1),t._v(" "),a("v-modal",{attrs:{show:t.showReasonModal,width:"374"}},[a("div",{staticClass:"modal-header",attrs:{slot:"modal-header"},slot:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v("驳回理由")])]),t._v(" "),a("div",{staticClass:"modal-body",attrs:{slot:"modal-body"},slot:"modal-body"},[a("div",{staticClass:"form-wrap box_flex align_center"},[a("div",{staticClass:"form-group box_flex column"},[a("div",{staticClass:"label require"},[a("span",[t._v("驳回理由:")])]),t._v(" "),a("v-textarea",{attrs:{lineHeight:"22",placeholder:"请输入驳回理由",rows:"6",maxLength:"255"},model:{value:t.note,callback:function(e){t.note=e},expression:"note"}})],1)])]),t._v(" "),a("div",{staticClass:"modal-footer",attrs:{slot:"modal-footer"},slot:"modal-footer"},[a("button",{staticClass:"btn cancel-btn clearBtnBorder",attrs:{type:"button"},on:{click:function(e){t.showReasonModal=!1}}},[t._v("取消")]),t._v(" "),a("button",{staticClass:"btn submit-btn clearBtnBorder",attrs:{type:"button"},on:{click:function(e){return t._submit("NO")}}},[t._v("确定")])])])],1)])},staticRenderFns:[]};var o=a("VU/8")(i,n,!1,function(t){a("FrlI")},"data-v-f2d494e0",null);e.default=o.exports}});