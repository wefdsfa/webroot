webpackJsonp([155],{NV6o:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});e("7+uW");var n=e("C331"),i={props:{data:{default:""},update:{default:!1},account:{default:null}},data:function(){return{tabs:[{id:"pending",name:"待缴"},{id:"paid",name:"已缴"}],isSelect:"pending",pendingData:[{title:"",time:"",amount:"",status:"",code:11001}]}},computed:{},watch:{},created:function(){var t=this;Object(n.e)({url:"/api/payment/getpayrecord",dataType:"json",type:"get",async:!1,success:function(a){a.state&&(t.paidData=a.data.content)}}),Object(n.e)({url:"/api/payment/getnotpayproject",dataType:"json",type:"get",async:!1,success:function(a){a.state&&(t.pendingData=a.data.content)}})},methods:{_back:function(){this.$emit("removeBread",this.data)},changeTab:function(t){this.isSelect=t},isWeiXin:function(){return"micromessenger"==window.navigator.userAgent.toLowerCase().match(/MicroMessenger/i)},goToPayment:function(t){var a=this;this.$waiting.show(),Object(n.e)({url:"/api/payment/getInProject",type:"get",data:{id:t.projectId},success:function(e){e.state?e.data&&e.data.status?"NOT_PAID"===e.data.status?(e.data.amount=t.amount,a.$emit("addBread",{route:"/payHall/MPaymentApplication",title:e.data.name,data:e.data})):a.$toast("您已缴费，无需缴费！"):a.$toast("该应用无需缴费！"):a.$toast(e.message)}}).always(function(){a.$waiting.close()})}}},s={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"myPayment"}},[e("view-box",[e("x-header",{staticClass:"myPayment-header",attrs:{title:"我的缴费"}},[e("i",{staticClass:"maticon back-icon",attrs:{slot:"overwrite-left"},domProps:{innerHTML:t._s(t.icons("navigate_before"))},on:{click:t._back},slot:"overwrite-left"},[t._v("navigate_before")])]),t._v(" "),e("div",{staticClass:"form-nav"},t._l(t.tabs,function(a,n){return e("div",{key:n,staticClass:"form-tab",class:{active:t.isSelect==a.id},on:{click:function(e){return t.changeTab(a.id)}}},[t._v(t._s(a.name))])}),0),t._v(" "),e("div",{staticClass:"myPayment-content"},["pending"===t.isSelect?e("div",{staticClass:"pending-list"},t._l(t.pendingData,function(a,n){return e("div",{key:n,staticClass:"pending-cell",on:{click:function(e){return t.goToPayment(a)}}},[e("flexbox",[e("flexbox-item",{attrs:{span:9}},[e("div",{staticClass:"pending-name"},[t._v("\n                "+t._s(a.name)+"\n                "),e("span",{staticClass:"status"},[t._v("待缴")])]),t._v(" "),e("div",[t._v(t._s(a.amount))]),t._v(" "),e("div",{staticClass:"pending-time"},[t._v(t._s(a.beginTime)+" 至 "+t._s(a.endTime))])]),t._v(" "),e("flexbox-item",[e("div",{staticClass:"pending-btn"},[t._v("去缴费")])])],1)],1)}),0):e("div",{staticClass:"paid-list"},t._l(t.paidData,function(a,n){return e("div",{key:n,staticClass:"pending-cell"},[e("flexbox",[e("flexbox-item",{attrs:{span:9}},[e("div",{staticClass:"pending-name"},[t._v("\n                "+t._s(a.name)+"\n                "),e("span",{staticClass:"status"},[t._v("已缴")])]),t._v(" "),e("div",[t._v(t._s(a.amountPaid))]),t._v(" "),e("div",{staticClass:"pending-time"},[t._v(t._s(a.payTime))])]),t._v(" "),e("flexbox-item")],1)],1)}),0)])],1)],1)},staticRenderFns:[]};var c=e("VU/8")(i,s,!1,function(t){e("P9lc")},null,null);a.default=c.exports},P9lc:function(t,a){}});