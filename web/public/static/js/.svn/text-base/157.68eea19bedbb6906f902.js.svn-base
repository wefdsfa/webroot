webpackJsonp([157],{QtO2:function(t,e){},dEOv:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("C331"),r=(a("VI/i"),{data:function(){var t=this;return{provinceSecondArr:[],tableCheckedList:[],url:"/table-data/archives/middle/getListMiddle",columns:[],isParentPage:!0,checkTemplateUrl:"/archives/query/getImageDate",importParams:{parentPageTitle:"中学标准库",downloadTemplateUrl:"/archives/middle/template",downloadErrorTemplateUrl:"/archives/middle/errorFile",templateName:"中学标准库导入模板.xlsx",importBtnType:[{name:"中学标准库导入.xlsx",url:"/archives/middle",method:"PUT",isShowBtn:!0,success:function(e){e.state&&(t.url=t.url+"?timestamp="+(new Date).getTime())}}]}}},created:function(){this.initC()},computed:{nowArr:function(){var t=[];return 0==this.tableCheckedList.length?t=[]:this.tableCheckedList.forEach(function(e){t.push(e.id)}),t}},methods:{batchDel:function(){var t=this;if(this.nowArr.length>0){Object(i.d)("/api/archives/middle/deleteMiddle?id="+this.nowArr,"","delete").then(function(e){e.state&&(t.url=t.url+"?timestamp="+(new Date).getTime())})}else this.$toast("请勾选需要操作的行")},exportTable:function(){this.nowArr.length>0?window.location.href="/downloads/archives/getMiddleExcel?middleId="+this.nowArr:this.$toast("请勾选需要操作的行")},_tableChecked:function(t){this.tableCheckedList=t},backParentPage:function(){this.isParentPage=!0,this.url=this.url+"?timestamp="+(new Date).getTime()},batchSet:function(){this.isParentPage=!1},initC:function(){var t=this;this.columns=[{id:"province",title:"省份",className:"text-left",hidden:!1,width:120,search:{type:"select",data:{url:"api/archives/permissions/getProvinceList",optionsLabel:"label",optionsValue:"value",placeholder:"",change:function(e){Object(i.e)({url:"api/archives/permissions/getProvinceSecond?value="+e.value,type:"get",success:function(e){t.provinceSecondArr=e.data,t.initC()}})}}}},{id:"provinceSecond",title:"地区",className:"text-left",hidden:!1,width:120,search:{type:"select",data:{options:this.provinceSecondArr,optionsLabel:"label",optionsValue:"value",placeholder:""}}},{id:"middleSchoolName",title:"中学名称",className:"text-left",hidden:!1,width:120,search:{type:"input",data:{autoFocus:!0,placeholder:"中学名称"}}}]}}}),n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isParentPage?a("div",{staticClass:"relationship-page container-fluid",attrs:{id:"schoolStandard-page"}},[a("v-table",{ref:"studentTable",attrs:{url:t.url,pagesize:"10",idField:"id",columns:t.columns,multiple:!0,order:!0,search:!0},on:{afterChecked:t._tableChecked}},[a("div",{attrs:{slot:"btn-group",role:"group"},slot:"btn-group"},[a("div",{staticClass:"btn-group pull-right"},[a("button",{staticClass:"btn btn-bgColor-style clearBtnBorder",attrs:{type:"button"},on:{click:function(e){return t.batchDel()}}},[t._v("批量删除")]),t._v(" "),a("button",{staticClass:"btn btn-bgColor-style clearBtnBorder",attrs:{type:"button"},on:{click:function(e){return t.batchSet()}}},[t._v("批量导入")]),t._v(" "),a("button",{staticClass:"btn btn-bgColor-style clearBtnBorder",attrs:{type:"button"},on:{click:function(e){return t.exportTable()}}},[t._v("导出")])])])])],1):a("v-import",t._b({attrs:{checkTemplateUrl:t.checkTemplateUrl},on:{backParentPage:t.backParentPage}},"v-import",t.importParams,!1))},staticRenderFns:[]};var l=a("VU/8")(r,n,!1,function(t){a("QtO2")},null,null);e.default=l.exports}});